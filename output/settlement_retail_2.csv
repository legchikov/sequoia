//Generated by Sequoia v.0.1

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#ScriptDirectory,#ScriptName,#Parameters
C14,CleanSystem,ExecuteScript,TRUE,,0,,./,Purge.sh,

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#ScriptDirectory,#ScriptName,#Parameters
293,ResetTimeSchedules,ExecuteScript,TRUE,,0,,./,Turnoff.sh,

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,Prefix,ISIN,Cycle
Static,Static,SetStatic,TRUE,,0,,@{{gen('ggg')}},1000000,3

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#MsgType,#CentralModule,#ServerType,#TransactionNbr,#Items,#NamedStruct1,#StructSize1,#TrCode_CountryId,#TrCode_CustomerId,#TrCode_UserId,#Series_Country,#Series_Market,#Series_InstrumentGroup,#Series_Modifier,#Series_Commodity,#Series_ExpirationDate,#Series_StrikePlace,#OrderNumber,#SequenceNumber,#TradeNumber,#DealPrice,#TradeQuantity,#Account_CountryId,#Account_ExCustomer,#Account_AccountId,#Account_Filler3,#CustomerInfo,#BoughtOrSold,#DealSource,#OpenCloseReq,#TradeType,#UserCode_CountryId,#UserCode_CustomerId,#UserCode_UserId,#TradeState,#DealNumber,#ExchInfo_TraderId,#ExchInfo_CPTraderId,#ExchInfo_AmalgCode,#ExchInfo_SettCurrency,#ExchInfo_CPFFlag,#ExchInfo_CustomerInfo,#ClearingDate,#ExecTS_tv_sec,#ExecTS_tv_nsec,#Instance,#Party_CountryId,#Party_ExCustomer,#Party_Filler1,#TradeRepCode,#NamedStruct2,#StructSize2,#SGETradeNumber,#NamedStruct3,#StructSize3,#CorrYieldPrice,#AccruedInterest,#Consideration
S_DBuy_1,SendDeal,SendBroadcast,TRUE,,300,,CB15,C,B,15,3,BaseAPI,284,ST,03XXX,TRCU1,SGX,Ready,Cash,0,2,0,0,1;1;1;1,2,@{Static.Prefix}0001,60,35,ST,27XXX,1110001,,Buy1,Buy,Auto,No Contra,New,ST,ERXXX,USX21,Active,@{Static.Prefix}0001,EXINF,CP1,0,SGD,Non-CPF,Buy_@{Static.Prefix}0001,"@{format(time(-Static.SettlCycle),'yyyyMMdd')}",36000,0,1,ST,CPAR2,,1,SGEAPI,4,@{Static.Prefix}0001,FixedIncomeAPI,20,0,0,0
S_DSell_1,SendDeal,SendBroadcast,TRUE,,300,,CB15,C,B,15,3,BaseAPI,284,ST,05XXX,TRCU1,SGX,Ready,Cash,0,2,0,0,1;1;1;1,2,@{Static.Prefix}0001,60,35,ST,27XXX,1110001,,Sell1,Sell,Auto,No Contra,New,ST,ERXXX,USX21,Active,@{Static.Prefix}0001,EXINF,CP1,0,SGD,Non-CPF,Sell_@{Static.Prefix}0001,"@{format(time(-Static.SettlCycle),'yyyyMMdd')}",36000,0,1,ST,CPAR2,,1,SGEAPI,4,@{Static.Prefix}0001,FixedIncomeAPI,20,0,0,0
S_DBuy_2,SendDeal,SendBroadcast,TRUE,,100,,CB15,C,B,15,3,BaseAPI,284,ST,03XXX,TRCU1,SGX,Ready,Cash,0,3,0,0,1;1;1;2,2,@{Static.Prefix}0002,78,15,ST,27XXX,1110001,,Buy2,Buy,Auto,No Contra,New,ST,ERXXX,USX21,Active,@{Static.Prefix}0002,EXINF,CP1,0,SGD,Non-CPF,Buy_@{Static.Prefix}0002,"@{format(time(-Static.SettlCycle),'yyyyMMdd')}",36000,0,1,ST,CPAR2,,1,SGEAPI,4,@{Static.Prefix}0002,FixedIncomeAPI,20,0,0,0
S_DSell_2,SendDeal,SendBroadcast,TRUE,,100,,CB15,C,B,15,3,BaseAPI,284,ST,05XXX,TRCU1,SGX,Ready,Cash,0,3,0,0,1;1;1;2,2,@{Static.Prefix}0002,78,15,ST,27XXX,1110001,,Sell2,Sell,Auto,No Contra,New,ST,ERXXX,USX21,Active,@{Static.Prefix}0002,EXINF,CP1,0,SGD,Non-CPF,Sell_@{Static.Prefix}0002,"@{format(time(-Static.SettlCycle),'yyyyMMdd')}",36000,0,1,ST,CPAR2,,1,SGEAPI,4,@{Static.Prefix}0002,FixedIncomeAPI,20,0,0,0

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#TradeDate,#ISD,#DealID,#CDPDealID,#Side,#TradingMember,#Account,#Instrument,#Married,#Overnight,#AllocPx,#AllocQty,#AllocValue,#TradeCurrency,#SettCurrency,#User,#Status,#AllocRef,#Created,#ParentAlloc,#Basis,#OriginalQty,#AI,#OriginalPx,#OriginalOrder,#Contra,#OriginalAccount,#ExchangeInfo,#CustomerInfo,#CPMember,#Siqty,#DefaultContra,#Cancelled_Pool_Id,#Cancelled_SI_Quantity,#Cancelled_Pool_Contra_Id,#LockStatus
V_ABuy_1,VerificationAllocation,VerifyAllocation,TRUE,,1000,,"@{format(time(-Static.SettlCycle),'yyyy/MM/dd')}","@{format(time(0),'yyyy/MM/dd')}",0010011000@{S_DBuy_1.SGETradeNumber},,Buy,"2@{trimleft(S_DBuy_1.TrCode_CustomerId,2)}","2@{trimleft(S_DBuy_1.TrCode_CustomerId,2)}.@{S_DBuy_1.Account_AccountId}",INSTR_0@{S_DBuy_1.Series_Commodity},No,No,@{S_DBuy_1.DealPrice},@{S_DBuy_1.TradeQuantity},@{(int)S_DBuy_1.DealPrice*(int)S_DBuy_1.TradeQuantity},SGD,SGD,AUTO,New,null,,null,,@{S_DBuy_1.TradeQuantity},,,,No,,,@{S_DBuy_1.CustomerInfo},,Free,null,null,null,null,Free
V_ASell_1,VerificationAllocation,VerifyAllocation,TRUE,,1000,,"@{format(time(-Static.SettlCycle),'yyyy/MM/dd')}","@{format(time(0),'yyyy/MM/dd')}",0010011000@{S_DSell_1.SGETradeNumber},,Sell,"2@{trimleft(S_DSell_1.TrCode_CustomerId,2)}","2@{trimleft(S_DSell_1.TrCode_CustomerId,2)}.@{S_DSell_1.Account_AccountId}",INSTR_0@{S_DSell_1.Series_Commodity},No,No,@{S_DSell_1.DealPrice},@{S_DSell_1.TradeQuantity},@{(int)S_DSell_1.DealPrice*(int)S_DSell_1.TradeQuantity},SGD,SGD,AUTO,New,null,,null,,@{S_DSell_1.TradeQuantity},,,,No,,,@{S_DSell_1.CustomerInfo},,Free,null,null,null,null,Free
V_ABuy_2,VerificationAllocation,VerifyAllocation,TRUE,,1000,,"@{format(time(-Static.SettlCycle),'yyyy/MM/dd')}","@{format(time(0),'yyyy/MM/dd')}",0010011000@{S_DBuy_2.SGETradeNumber},,Buy,"2@{trimleft(S_DBuy_2.TrCode_CustomerId,2)}","2@{trimleft(S_DBuy_2.TrCode_CustomerId,2)}.@{S_DBuy_2.Account_AccountId}",INSTR_0@{S_DBuy_2.Series_Commodity},No,No,@{S_DBuy_2.DealPrice},@{S_DBuy_2.TradeQuantity},@{(int)S_DBuy_2.DealPrice*(int)S_DBuy_2.TradeQuantity},SGD,SGD,AUTO,New,null,,null,,@{S_DBuy_2.TradeQuantity},,,,No,,,@{S_DBuy_2.CustomerInfo},,Free,null,null,null,null,Free
V_ASell_2,VerificationAllocation,VerifyAllocation,TRUE,,1000,,"@{format(time(-Static.SettlCycle),'yyyy/MM/dd')}","@{format(time(0),'yyyy/MM/dd')}",0010011000@{S_DSell_2.SGETradeNumber},,Sell,"2@{trimleft(S_DSell_2.TrCode_CustomerId,2)}","2@{trimleft(S_DSell_2.TrCode_CustomerId,2)}.@{S_DSell_2.Account_AccountId}",INSTR_0@{S_DSell_2.Series_Commodity},No,No,@{S_DSell_2.DealPrice},@{S_DSell_2.TradeQuantity},@{(int)S_DSell_2.DealPrice*(int)S_DSell_2.TradeQuantity},SGD,SGD,AUTO,New,null,,null,,@{S_DSell_2.TradeQuantity},,,,No,,,@{S_DSell_2.CustomerInfo},,Free,null,null,null,null,Free

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#ConnectionName,#WrapperSender,#WrapperReceiver,#PartyFrom,#PartyTo,#BusinessMsgId,#CreationDate,#CopyDuplicate,#PossibleDuplicate,#TransactionId,#SecMovementType,#PaymentType,#TradeIdentification,#MarketIdentifier,#PlaceOfTradeType,#TradeDate,#SettlementDate,#DealPriceValueType,#DealPricePercRate,#DealPriceCcy,#DealPriceAmt,#SettlementInstructionProcessingAdditionalDetails,#ISIN,#SettlementQtyUnit,#SettlementQtyFaceAmt,#AccountOwnerBIC,#AccountOwnerPropId,#AccountOwnerPropIssuer,#SafekeepingAccount,#HoldIndicator,#SecTransactionTypeCode,#SecTransactionTypePropId,#SecTransactionTypePropIssuer,#SettSysMethodPropId,#SettSysMethodPropIssuer,#DepositoryBIC_DELI,#Party1BIC_DELI,#Party1PropId_DELI,#Party1PropIssuer_DELI,#DepositoryBIC_RECE,#Party1BIC_RECE,#Party1PropId_RECE,#Party1PropIssuer_RECE,#SettlementCcy,#SettlementAmount,#DebitCreditInd,#AICcy,#AIAmount,#AIDebitCreditInd,#LocalBrCommissionCcy,#LocalBrCommissionAmount,#ForeignExchDetailsUnitCcy,#ForeignExchDetailsQuotedCcy,#ForeignExchDetailsExRate,#ForeignExchDetailsResCcy,#ForeignExchDetailsResAmount,#InvestorName,#InvestorSafekeepingAccount
S_Sell_SI_1,SendSI,SendSese023,TRUE,,0,,@{V_ASell_1.TradingMember},@{V_ASell_1.TradingMember},SGXPTS,@{V_ASell_1.TradingMember},CDP,BIZ@{Static.Prefix}@{gen('ggggggggg')},"@{format(time(0),'yyyy-MM-dd')+'T10:00:00Z'}",,,@{gen('ggggggg')},RECE,FREE,@{V_ASell_1.InternalAllocID},XSES,EXCH,"@{format(time(-Static.SettlCycle),'yyyy-MM-dd')}","@{format(time(0),'yyyy-MM-dd')}",PARV,,SGD,@{V_ASell_1.AllocPx},,SGINS@{(int)Static.ISIN+(int)V_ASell_1.Instrument.substring(7)},@{V_ASell_1.AllocQty},,IGTESTAE,,,555000018542,,TRAD,,,,,CDPLSGSG,NCBICNNK,,,,,,,,,,,,,,,,,,,,,
S_Buy_SI_1,SendSI,SendSese023,TRUE,,0,,@{V_ABuy_1.TradingMember},@{V_ABuy_1.TradingMember},SGXPTS,@{V_ABuy_1.TradingMember},CDP,BIZ@{Static.Prefix}@{gen('ggggggggg')},"@{format(time(0),'yyyy-MM-dd')+'T10:00:00Z'}",,,@{gen('ggggggg')},DELI,FREE,@{V_ABuy_1.InternalAllocID},XSES,EXCH,"@{format(time(-Static.SettlCycle),'yyyy-MM-dd')}","@{format(time(0),'yyyy-MM-dd')}",PARV,,SGD,@{V_ABuy_1.AllocPx},,SGINS@{(int)Static.ISIN+(int)V_ABuy_1.Instrument.substring(7)},@{V_ABuy_1.AllocQty},,IGTESTAC,,,555000018486,,TRAD,,,,,,,,,CDPLSGSG,NCBICNNK,,,,,,,,,,,,,,,,,
S_Sell_SI_2,SendSI,SendSese023,TRUE,,0,,@{V_ASell_2.TradingMember},@{V_ASell_2.TradingMember},SGXPTS,@{V_ASell_2.TradingMember},CDP,BIZ@{Static.Prefix}@{gen('ggggggggg')},"@{format(time(0),'yyyy-MM-dd')+'T10:00:00Z'}",,,@{gen('ggggggg')},RECE,FREE,@{V_ASell_2.InternalAllocID},XSES,EXCH,"@{format(time(-Static.SettlCycle),'yyyy-MM-dd')}","@{format(time(0),'yyyy-MM-dd')}",PARV,,SGD,@{V_ASell_2.AllocPx},,SGINS@{(int)Static.ISIN+(int)V_ASell_2.Instrument.substring(7)},@{V_ASell_2.AllocQty},,IGTESTAE,,,555000018542,,TRAD,,,,,CDPLSGSG,NCBICNNK,,,,,,,,,,,,,,,,,,,,,
S_Buy_SI_2,SendSI,SendSese023,TRUE,,0,,@{V_ABuy_2.TradingMember},@{V_ABuy_2.TradingMember},SGXPTS,@{V_ABuy_2.TradingMember},CDP,BIZ@{Static.Prefix}@{gen('ggggggggg')},"@{format(time(0),'yyyy-MM-dd')+'T10:00:00Z'}",,,@{gen('ggggggg')},DELI,FREE,@{V_ABuy_2.InternalAllocID},XSES,EXCH,"@{format(time(-Static.SettlCycle),'yyyy-MM-dd')}","@{format(time(0),'yyyy-MM-dd')}",PARV,,SGD,@{V_ABuy_2.AllocPx},,SGINS@{(int)Static.ISIN+(int)V_ABuy_2.Instrument.substring(7)},@{V_ABuy_2.AllocQty},,IGTESTAC,,,555000018486,,TRAD,,,,,,,,,CDPLSGSG,NCBICNNK,,,,,,,,,,,,,,,,,

#id,#GlobalStep,#Action,#Execute,#Testcase,#Timeout,#Comment,#Delivering_Balance_Type,#Delivering_External_Bank,#Delivering_Internal_Cash_Acc,#Delivering_Mirror_Account,#Cash_Instruction_Source,#Cash_Tx_Value,#Cash_Tx_Processed_Amount,#Currency_Code,#Request_Initiator_Type,#Remark,#Cash_Transaction_Type,#Cash_Transaction_Sub_Type,#Source_Purpose,#Source_Location,#Cash_Transaction_Status,#Cash_Transaction_Sub_Status
AC_1,AddCashBalance,SendCashBalanceTransactionDB,TRUE,,0,,1,UOB,@{V_ABuy_1.TradingMember}-CASH,,1,1000000000,,SGD,1,1,62,4,1,,1,1

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#SecurityAccountID,#InstrumentID,#BalanceType,#BalanceSubType,#Balance,#ValuationPrice,#Category,#Currency,#Reference
1,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_1.Instrument}')},0,,1000000000,,,,
2,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_2.Instrument}')},0,,1000000000,,,,
3,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_3.Instrument}')},0,,1000000000,,,,
4,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_4.Instrument}')},0,,1000000000,,,,
5,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_5.Instrument}')},0,,1000000000,,,,
6,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_6.Instrument}')},0,,1000000000,,,,
7,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_7.Instrument}')},0,,1000000000,,,,
8,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_8.Instrument}')},0,,1000000000,,,,
9,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_9.Instrument}')},0,,1000000000,,,,
10,AddSecurityBalance,AddSecurityPosition,TRUE,,0,,@{S_Sell_SI_1.SafekeepingAccount},@{instrumentId('@{V_ASell_10.Instrument}')},0,,1000000000,,,,

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#ScriptDirectory,#ScriptName,#Parameters
4R7,Netting,ExecuteScript,TRUE,,0,,./,Netting.sh,

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#ScheduleId,#Enabled,#Time,#DependencyProfile,#State,#StartTime,#CompletedTime,#ModifiedBy
QSL,VerificationNetting,VerifyTimeScheduleInfo,TRUE,,30000,,SGXNetting,TRUE,,,Completed,,,System

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#ScriptDirectory,#ScriptName,#Parameters
G7P,Processing,ExecuteScript,TRUE,,0,,./,Processing.sh,

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#ScheduleId,#Enabled,#Time,#DependencyProfile,#State,#StartTime,#CompletedTime,#ModifiedBy
NA7,VerificationProcessing,VerifyTimeScheduleInfo,TRUE,,30000,,SGXProcessing,TRUE,,,Completed,,,System

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#CountOfEntries,#Query
X44,VerifyCountSI,CountDB,TRUE,,10000,,4,SELECT COUNT(*) AS ActualCount FROM ATSD_MOB_SETTLEMENT_INS WHERE LATEST=1 and SI_STATUS=7 and SI_SUB_STATUS=13 and REASON_CODE=0 and CREATED_USER='OPEN_API' and EXTERNAL_REQUEST_ID LIKE 'BIZ@{Static.Prefix}%'

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#CountOfEntries,#Query
70T,VerifyCountNoSI,CountDB,TRUE,,10000,,0,SELECT COUNT(*) AS ActualCount FROM ATSD_MOB_SETTLEMENT_INS WHERE LATEST=1 and (SI_STATUS<>7 or SI_SUB_STATUS<>13 or REASON_CODE<>0)

#id,#GlobalStep,#Action,#Execute,#TestCase,#Timeout,#Comment,#CountOfEntries,#Query
LH2,VerifyCountNoOptimizedTable,CountDB,TRUE,,10000,,0,SELECT COUNT(*) AS ActualCount FROM ATSD_TAD_OPTIMIZED_SI WHERE LATEST=1 and (SETTLEMENT_STATUS<>1 or OPTIMIZATION_ALGORITHM<>0)
